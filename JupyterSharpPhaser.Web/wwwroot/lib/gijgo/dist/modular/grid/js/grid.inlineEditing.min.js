"undefined"==typeof gj.grid.plugins&&(gj.grid.plugins={}),gj.grid.plugins.inlineEditing={config:{defaultColumnSettings:{editor:void 0}},"private":{OnCellEdit:function(a,b,c,d){var e,f;"edit"!==b.attr("data-mode")&&c.editor&&(b.find('div[data-role="display"]').hide(),e=b.find('div[data-role="edit"]'),e&&e.length?(e.show(),f=e.find("input, select").first(),f.val(d[c.field])):(e=$('<div data-role="edit" />'),b.append(e),"function"==typeof c.editor?c.editor(e,d[c.field]):"boolean"==typeof c.editor&&e.append('<input type="text" value="'+d[c.field]+'"/>'),f=e.find("input, select").first(),f.on("blur",function(d){gj.grid.plugins.inlineEditing["private"].OnCellDisplay(a,b,c)}),f.on("keypress",function(d){13===d.which&&gj.grid.plugins.inlineEditing["private"].OnCellDisplay(a,b,c)})),f.focus().select(),b.attr("data-mode","edit"))},OnCellDisplay:function(a,b,c){var d,e,f,g="";"edit"===b.attr("data-mode")&&($editorContainer=b.find('div[data-role="edit"]'),d=$editorContainer.find("input, select").first().val(),f=a.get(b.parent().data("position")),e=f[c.field],$displayContainer=b.find('div[data-role="display"]'),d!==e&&(gj.grid.methods.setCellText($displayContainer,c,d),f[c.field]=d,0===b.find("span.gj-dirty").length&&("0px"!==b.css("padding-top")&&(g+="margin-top: -"+b.css("padding-top")+";"),"0px"!==b.css("padding-left")&&(g+="margin-left: -"+b.css("padding-left")+";"),g=g?' style="'+g+'"':"",b.prepend($('<span class="gj-dirty"'+g+"></span>"))),gj.grid.plugins.inlineEditing.events.cellDataChanged(a,b,c,f,e,d),gj.grid.plugins.inlineEditing["private"].updateChanges(a,c,f,d)),$editorContainer.hide(),$displayContainer.show(),b.attr("data-mode","display"))},updateChanges:function(a,b,c,d){var e,f,g,h=a.data();h.guid||(h.guid=gj.grid.plugins.inlineEditing["private"].generateGUID()),h.primaryKey&&(e=JSON.parse(sessionStorage.getItem("gj.grid."+h.guid)),e?f=e.filter(function(a){return a[h.primaryKey]===c[h.primaryKey]}):e=[],f&&1===f.length?f[0][b.field]=d:(g={},g[h.primaryKey]=c[h.primaryKey],h.primaryKey!==b.field&&(g[b.field]=d),e.push(g)),sessionStorage.setItem("gj.grid."+h.guid,JSON.stringify(e)))},generateGUID:function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}},"public":{getChanges:function(){return JSON.parse(sessionStorage.getItem("gj.grid."+this.data().guid))}},events:{cellDataChanged:function(a,b,c,d,e,f){a.trigger("cellDataChanged",[b,c,d,e,f])}},configure:function(a){$.extend(!0,a,gj.grid.plugins.inlineEditing["public"]),a.on("cellDataBound",function(b,c,d,e,f){e.editor&&c.parent().on("click",function(){gj.grid.plugins.inlineEditing["private"].OnCellEdit(a,c.parent(),e,f)})})}};