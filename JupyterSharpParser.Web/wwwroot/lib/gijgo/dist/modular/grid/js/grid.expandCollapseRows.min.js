"undefined"==typeof gj.grid.plugins&&(gj.grid.plugins={}),gj.grid.plugins.expandCollapseRows={config:{base:{detailTemplate:void 0,style:{expandIcon:"",collapseIcon:""}},jqueryui:{style:{expandIcon:"ui-icon ui-icon-plus",collapseIcon:"ui-icon ui-icon-minus"}},bootstrap:{style:{expandIcon:"glyphicon glyphicon-plus",collapseIcon:"glyphicon glyphicon-minus"}}},"private":{detailExpand:function(a,b){var c=b.closest("tr"),d=$('<tr data-role="details"></tr>'),e=$('<td colspan="'+gj.grid.methods.countVisibleColumns(a)+'"></td>'),f=a.data();d.append(e.append(c.data("details"))),d.insertAfter(c),f.style.collapseIcon?b.find("span").attr("class",f.style.collapseIcon):b.find('div[data-role="display"]').text("-"),b.off("click").on("click",function(){gj.grid.plugins.expandCollapseRows["private"].detailCollapse(a,$(this))}),a.updateDetails(c),gj.grid.plugins.expandCollapseRows.events.detailExpand(a,d.find("td>div"),a.get(c.data("position")))},detailCollapse:function(a,b){var c=b.closest("tr"),d=c.next('tr[data-role="details"]'),e=a.data();d.remove(),e.style.expandIcon?b.find("span").attr("class",e.style.expandIcon):b.find('div[data-role="display"]').text("+"),b.off("click").on("click",function(){gj.grid.plugins.expandCollapseRows["private"].detailExpand(a,$(this))}),gj.grid.plugins.expandCollapseRows.events.detailCollapse(a,d.find("td>div"),a.get(c.data("position")))},updateDetailsColSpan:function(a){var b=a.find('tbody > tr[data-role="details"] > td');b&&b.length&&b.attr("colspan",gj.grid.methods.countVisibleColumns(a))}},"public":{collapseAll:function(){var a=this;a.find('tbody tr[data-role="row"]').each(function(){gj.grid.plugins.expandCollapseRows["private"].detailCollapse(a,$(this).find("td").first())})},expandAll:function(){var a=this;a.find('tbody tr[data-role="row"]').each(function(){gj.grid.plugins.expandCollapseRows["private"].detailExpand(a,$(this).find("td").first())})},updateDetails:function(a){var b=this,c=a.data("details"),d=c.html(),e=b.get(a.data("position"));c.html().replace(/\{(.+?)\}/g,function(a,c){var f=gj.grid.methods.getColumnInfo(b,c);d=d.replace(a,gj.grid.methods.formatText(e[c],f))}),c.html(d)}},events:{detailExpand:function(a,b,c){a.trigger("detailExpand",[b,c])},detailCollapse:function(a,b,c){a.trigger("detailCollapse",[b,c])}},configure:function(a){var b,c=a.data();$.extend(!0,a,gj.grid.plugins.expandCollapseRows["public"]),"undefined"!=typeof c.detailTemplate&&(b={title:"",field:c.primaryKey,width:"bootstrap"===c.uiLibrary?34:24,align:"center",stopPropagation:!0,events:{click:function(){gj.grid.plugins.expandCollapseRows["private"].detailExpand(a,$(this))}}},c.style.expandIcon?(b.type="icon",b.icon=c.style.expandIcon):(b.tmpl="+",b.cssClass="gj-cursor-pointer"),c.columns=[b].concat(c.columns),a.on("rowDataBound",function(a,b,d,e){b.data("details",$(c.detailTemplate))}),a.on("columnShow",function(b,c){gj.grid.plugins.expandCollapseRows["private"].updateDetailsColSpan(a)}),a.on("columnHide",function(b,c){gj.grid.plugins.expandCollapseRows["private"].updateDetailsColSpan(a)}),a.on("rowRemoving",function(b,c,d,e){gj.grid.plugins.expandCollapseRows["private"].detailCollapse(a,c.children("td").first())}),a.on("pageChanging",function(){a.collapseAll()}))}};